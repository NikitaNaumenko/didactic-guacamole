import{m as y,j as e,L as b}from"./main.js";import{u as f,B as g}from"./button.js";import{L as l,I as n}from"./label.js";import{C as N,a as C,b as F,c as T}from"./card.js";import{u as w}from"./use-current-user.js";function I({auth:E,monitor:s,method:h="post",action:u}){const{t:r}=f();if(!w())return null;const{data:a,setData:c,post:m,put:v,processing:j,errors:t}=y({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",url:(s==null?void 0:s.url)||"",method:(s==null?void 0:s.method)||"GET",interval_seconds:(s==null?void 0:s.interval_seconds)||300,timeout_seconds:(s==null?void 0:s.timeout_seconds)||10,expected_status_code:(s==null?void 0:s.expected_status_code)||200,headers:(s==null?void 0:s.headers)||{},body:(s==null?void 0:s.body)||"",is_active:(s==null?void 0:s.is_active)??!0,retry_count:(s==null?void 0:s.retry_count)||3,retry_interval_seconds:(s==null?void 0:s.retry_interval_seconds)||60}),_=i=>{i.preventDefault(),h==="post"?m(u):v(u)},d=i=>{const{name:o,value:x,type:p}=i.target;p==="checkbox"?c(o,i.target.checked):p==="number"?c(o,parseInt(x)):c(o,x||"")};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:r(s?"monitors.edit":"monitors.create")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(N,{children:[e.jsx(C,{children:e.jsx(F,{children:r(s?"monitors.edit":"monitors.create")})}),e.jsx(T,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:r("monitors.name")}),e.jsx(n,{id:"name",type:"text",name:"name",value:a.name,autoComplete:"name",isFocused:!0,onChange:d,required:!0}),t.name&&e.jsx("p",{className:"text-sm text-red-500",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"url",children:r("monitors.url")}),e.jsx(n,{id:"url",type:"url",name:"url",value:a.url,autoComplete:"url",onChange:d,required:!0}),t.url&&e.jsx("p",{className:"text-sm text-red-500",children:t.url})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"description",children:r("monitors.description")}),e.jsx(n,{id:"description",type:"text",name:"description",value:a.description,onChange:d}),t.description&&e.jsx("p",{className:"text-sm text-red-500",children:t.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"method",children:r("monitors.method")}),e.jsxs("select",{id:"method",name:"method",value:a.method,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",onChange:d,children:[e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"PUT",children:"PUT"}),e.jsx("option",{value:"DELETE",children:"DELETE"}),e.jsx("option",{value:"HEAD",children:"HEAD"}),e.jsx("option",{value:"OPTIONS",children:"OPTIONS"})]}),t.method&&e.jsx("p",{className:"text-sm text-red-500",children:t.method})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"interval_seconds",children:r("monitors.interval")}),e.jsx(n,{id:"interval_seconds",type:"number",name:"interval_seconds",value:a.interval_seconds,onChange:d,required:!0}),t.interval_seconds&&e.jsx("p",{className:"text-sm text-red-500",children:t.interval_seconds})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"timeout_seconds",children:r("monitors.timeout")}),e.jsx(n,{id:"timeout_seconds",type:"number",name:"timeout_seconds",value:a.timeout_seconds,onChange:d,required:!0}),t.timeout_seconds&&e.jsx("p",{className:"text-sm text-red-500",children:t.timeout_seconds})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"expected_status_code",children:r("monitors.expected_status")}),e.jsxs("select",{id:"expected_status_code",name:"expected_status_code",value:a.expected_status_code,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",onChange:d,children:[e.jsx("option",{value:"200",children:"200 OK"}),e.jsx("option",{value:"201",children:"201 Created"}),e.jsx("option",{value:"202",children:"202 Accepted"}),e.jsx("option",{value:"204",children:"204 No Content"}),e.jsx("option",{value:"301",children:"301 Moved Permanently"}),e.jsx("option",{value:"302",children:"302 Found"}),e.jsx("option",{value:"307",children:"307 Temporary Redirect"}),e.jsx("option",{value:"308",children:"308 Permanent Redirect"}),e.jsx("option",{value:"400",children:"400 Bad Request"}),e.jsx("option",{value:"401",children:"401 Unauthorized"}),e.jsx("option",{value:"403",children:"403 Forbidden"}),e.jsx("option",{value:"404",children:"404 Not Found"}),e.jsx("option",{value:"500",children:"500 Internal Server Error"}),e.jsx("option",{value:"502",children:"502 Bad Gateway"}),e.jsx("option",{value:"503",children:"503 Service Unavailable"}),e.jsx("option",{value:"504",children:"504 Gateway Timeout"})]}),t.expected_status_code&&e.jsx("p",{className:"text-sm text-red-500",children:t.expected_status_code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"body",children:r("monitors.body")}),e.jsx("textarea",{id:"body",name:"body",value:a.body,className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",rows:3,onChange:d}),t.body&&e.jsx("p",{className:"text-sm text-red-500",children:t.body})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"retry_count",children:r("monitors.retry_count")}),e.jsx(n,{id:"retry_count",type:"number",name:"retry_count",value:a.retry_count,onChange:d,required:!0}),t.retry_count&&e.jsx("p",{className:"text-sm text-red-500",children:t.retry_count})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"retry_interval_seconds",children:r("monitors.retry_interval")}),e.jsx(n,{id:"retry_interval_seconds",type:"number",name:"retry_interval_seconds",value:a.retry_interval_seconds,onChange:d,required:!0}),t.retry_interval_seconds&&e.jsx("p",{className:"text-sm text-red-500",children:t.retry_interval_seconds})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"is_active",type:"checkbox",name:"is_active",checked:a.is_active,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",onChange:d}),e.jsx(l,{htmlFor:"is_active",children:r("monitors.status")}),t.is_active&&e.jsx("p",{className:"text-sm text-red-500",children:t.is_active})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{type:"submit",disabled:j,children:r(s?"monitors.save":"monitors.create")})})]})})]})})})]})}export{I as default};
